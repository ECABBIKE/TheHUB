/* Header */
.header{
  position:sticky;top:0;height:var(--header-height);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 var(--space-lg);
  background:var(--color-bg-surface);
  border-bottom:1px solid var(--color-border);
  z-index:var(--z-sticky);
}
.header-brand{display:flex;align-items:center;gap:var(--space-sm);font-size:var(--text-lg);font-weight:var(--weight-bold)}
.header-logo{width:32px;height:32px}
.header-actions{display:flex;align-items:center;gap:var(--space-md)}
.header-version{
  font-size:var(--text-xs);color:var(--color-text-muted);
  padding:var(--space-2xs) var(--space-xs);
  background:var(--color-bg-sunken);border-radius:var(--radius-sm);
}

/* Cards */
.card{
  background:var(--color-bg-surface);
  border:1px solid var(--color-border);
  border-radius:var(--radius-lg);
  padding:var(--space-lg);
  box-shadow:var(--shadow-sm);
  max-width:100%;
  overflow:hidden;
}
@media(max-width:599px) and (orientation:portrait){
  .card{padding:var(--space-md)}
}
.card--elevated{background:var(--color-bg-elevated);box-shadow:var(--shadow-md)}
.card--clickable{cursor:pointer;transition:transform var(--transition-fast),box-shadow var(--transition-fast)}
.card--clickable:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.card-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-md)}
.card-title{font-size:var(--text-md);font-weight:var(--weight-semibold);margin:0}
.card-subtitle{font-size:var(--text-sm);color:var(--color-text-secondary);margin-top:var(--space-2xs)}
.card-body{color:var(--color-text-secondary)}
.card-footer{margin-top:var(--space-md);padding-top:var(--space-md);border-top:1px solid var(--color-divider)}

/* Rider Profile */
.rider-profile{display:flex;align-items:center;gap:var(--space-md)}
.rider-avatar{
  width:64px;height:64px;border-radius:50%;
  background:var(--color-bg-sunken);border:3px solid var(--color-border);
  overflow:hidden;flex-shrink:0;
}
.rider-avatar img{width:100%;height:100%;object-fit:cover}
.rider-info{flex:1;min-width:0}
.rider-name{font-size:var(--text-lg);font-weight:var(--weight-semibold);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.rider-club{font-size:var(--text-sm);color:var(--color-text-secondary);margin-top:var(--space-2xs)}
.rider-meta{display:flex;flex-wrap:wrap;gap:var(--space-xs);margin-top:var(--space-xs);font-size:var(--text-xs);color:var(--color-text-tertiary)}

/* Stats */
.stats-row{display:flex;gap:var(--space-lg);margin-top:var(--space-md)}
.stat-block{flex:1;text-align:center}
.stat-value{font-size:var(--text-2xl);font-weight:var(--weight-bold);color:var(--color-accent-text);font-variant-numeric:tabular-nums}
.stat-label{font-size:var(--text-xs);color:var(--color-text-tertiary);margin-top:var(--space-2xs)}

/* Chips */
.chip{
  display:inline-flex;align-items:center;gap:var(--space-2xs);
  padding:var(--space-2xs) var(--space-sm);border-radius:var(--radius-full);
  font-size:var(--text-xs);font-weight:var(--weight-medium);white-space:nowrap;
}
.chip--enduro{background:var(--series-enduro);color:#000}
.chip--downhill{background:var(--series-downhill);color:#fff}
.chip--xc{background:var(--series-xc);color:#fff}
.chip--ges{background:var(--series-ges);color:#fff}
.chip--ggs{background:var(--series-ggs);color:#fff}
.chip--success{background:var(--color-success-light);color:var(--color-success)}
.chip--warning{background:var(--color-warning-light);color:var(--color-warning)}
.chip--error{background:var(--color-error-light);color:var(--color-error)}

/* Buttons */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:var(--space-xs);
  padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);
  font-size:var(--text-base);font-weight:var(--weight-medium);
  transition:all var(--transition-fast);white-space:nowrap;
}
.btn--primary{background:var(--color-accent);color:var(--color-text-inverse)}
.btn--primary:hover{background:var(--color-accent-hover)}
.btn--secondary{background:var(--color-bg-sunken);color:var(--color-text-primary);border:1px solid var(--color-border)}
.btn--secondary:hover{background:var(--color-bg-hover);border-color:var(--color-border-strong)}
.btn--ghost{background:transparent;color:var(--color-text-secondary)}
.btn--ghost:hover{background:var(--color-bg-hover);color:var(--color-text-primary)}

/* Breadcrumb */
.breadcrumb{display:flex;align-items:center;gap:var(--space-xs);font-size:var(--text-sm);color:var(--color-text-tertiary);margin-bottom:var(--space-lg)}
.breadcrumb-link{color:var(--color-text-secondary);transition:color var(--transition-fast)}
.breadcrumb-link:hover{color:var(--color-accent-text)}
.breadcrumb-separator{color:var(--color-text-muted)}
.breadcrumb-current{color:var(--color-text-primary);font-weight:var(--weight-medium)}

/* Theme Toggle */
.theme-toggle{
  position:fixed;
  bottom:calc(var(--mobile-nav-height) + var(--space-md) + env(safe-area-inset-bottom));
  right:var(--space-md);
  display:flex;
  background:var(--color-bg-surface);
  border:1px solid var(--color-border);
  border-radius:var(--radius-full);
  padding:var(--space-2xs);
  box-shadow:var(--shadow-lg);
  z-index:var(--z-fixed);
}
.theme-toggle-btn{
  width:36px;height:36px;
  display:flex;align-items:center;justify-content:center;
  border-radius:var(--radius-full);
  font-size:var(--text-md);color:var(--color-text-secondary);
  transition:all var(--transition-fast);
}
.theme-toggle-btn:hover{background:var(--color-bg-hover)}
.theme-toggle-btn[aria-pressed="true"]{background:var(--color-accent-light);color:var(--color-accent-text)}

@media(min-width:900px){
  .theme-toggle{bottom:var(--space-lg);right:var(--space-lg)}
}

/* Placeholder */
.placeholder{
  display:flex;align-items:center;justify-content:center;min-height:200px;
  background:var(--color-bg-sunken);border:2px dashed var(--color-border);
  border-radius:var(--radius-md);color:var(--color-text-muted);font-size:var(--text-sm);
}

/* Loading */
.loading{position:relative;pointer-events:none}
.loading::after{content:'';position:absolute;inset:0;background:var(--color-bg-surface);opacity:0.7}
.spinner{width:24px;height:24px;border:2px solid var(--color-border);border-top-color:var(--color-accent);border-radius:50%;animation:spin 0.8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Icons */
.icon{width:20px;height:20px;flex-shrink:0;color:inherit}
.icon-sm{width:16px;height:16px}
.icon-lg{width:24px;height:24px}
.icon-xl{width:32px;height:32px}

/* Nav Icons */
.mobile-nav-icon .icon{width:24px;height:24px}
.admin-nav-icon .icon{width:20px;height:20px}

/* Alerts */
.alert{
  display:flex;align-items:flex-start;gap:var(--space-sm);
  padding:var(--space-md);border-radius:var(--radius-md);
  font-size:var(--text-sm);
}
.alert--success{background:var(--color-success-light);color:var(--color-success);border:1px solid var(--color-success)}
.alert--error{background:var(--color-error-light);color:var(--color-error);border:1px solid var(--color-error)}
.alert--warning{background:var(--color-warning-light);color:var(--color-warning);border:1px solid var(--color-warning)}
.alert--info{background:var(--color-accent-light);color:var(--color-accent);border:1px solid var(--color-accent)}

/* Image Grid (Admin) */
.image-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-md)}
.image-card{background:var(--color-bg-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden}
.image-preview{aspect-ratio:16/9;display:flex;align-items:center;justify-content:center;padding:var(--space-md);background:var(--color-bg-sunken)}
.image-preview.bg-dark{background:#1a1a1a}
.image-preview.bg-light{background:#f5f5f5}
.image-preview img{max-width:100%;max-height:100%;object-fit:contain}
.image-info{padding:var(--space-sm) var(--space-md);display:flex;flex-wrap:wrap;align-items:center;gap:var(--space-xs)}
.image-actions{padding:var(--space-xs) var(--space-md) var(--space-sm);border-top:1px solid var(--color-border)}

/* Badge variants */
.badge--default{background:var(--color-bg-sunken)}
.badge--light{background:#f5f5f5;color:#333}
.badge--dark{background:#333;color:#fff}

/* V3.5 Migration - Custom Classes */
/* Sidebar Navigation */
.sidebar{display:flex;flex-direction:column;width:var(--sidebar-width);height:100vh;background:var(--color-bg-surface);border-right:1px solid var(--color-border);overflow-y:auto;z-index:1000}
.sidebar-section{padding:var(--space-md) 0}
.sidebar-title{font-size:var(--text-xs);font-weight:var(--weight-bold);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:0.5px;padding:0 var(--space-md);margin-bottom:var(--space-sm)}
.sidebar-nav{list-style:none;padding:0 var(--space-sm);margin:0;display:flex;flex-direction:column;gap:var(--space-2xs)}
.sidebar-nav li{display:block}
.sidebar-nav a{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);color:var(--color-text-secondary);font-size:var(--text-sm);font-weight:var(--weight-medium);transition:all var(--transition-fast);text-decoration:none}
.sidebar-nav a:hover{background:var(--color-bg-hover);color:var(--color-text-primary)}
.sidebar-nav a.active{background:var(--color-accent-light);color:var(--color-accent-text)}
.sidebar-nav a i{width:20px;height:20px;flex-shrink:0}
.sidebar-footer{padding:0 var(--space-md)}
.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:999;transition:opacity var(--transition-base)}
.sidebar-overlay.active{display:block}

/* Mobile Menu Toggle */
.mobile-menu-toggle{position:fixed;top:var(--space-md);left:var(--space-md);width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--color-bg-surface);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text-primary);cursor:pointer;z-index:1001;box-shadow:var(--shadow-md);transition:all var(--transition-fast)}
.mobile-menu-toggle:hover{background:var(--color-bg-hover)}
.mobile-menu-toggle i{width:24px;height:24px}

/* Footer */
.footer{background:var(--color-bg-surface);border-top:1px solid var(--color-border);padding:var(--space-lg) var(--space-md);text-align:center;margin-top:auto}
.footer-version{font-size:var(--text-xs);color:var(--color-text-muted);margin:0}
.container{max-width:1200px;margin:0 auto;padding:0 var(--space-md)}

/* Hero Section */
.hero{padding:var(--space-2xl) 0;margin-bottom:var(--space-xl)}
.hero-title{font-size:var(--text-3xl);font-weight:var(--weight-bold);margin:0;background:linear-gradient(135deg,var(--color-accent) 0%,#00A3E0 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}

/* Lists */
.list-styled{list-style:none;padding-left:0}
.list-styled li{position:relative;padding-left:var(--space-lg);margin-bottom:var(--space-sm)}
.list-styled li:before{content:'âœ“';position:absolute;left:0;color:var(--color-accent);font-weight:var(--weight-bold)}

/* Forms */
.form-group{margin-bottom:var(--space-md)}
.label{display:block;font-size:var(--text-sm);font-weight:var(--weight-medium);color:var(--color-text-secondary);margin-bottom:var(--space-xs)}
.input{width:100%;padding:var(--space-sm) var(--space-md);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--text-base);color:var(--color-text-primary);background:var(--color-bg-surface);transition:border-color var(--transition-fast)}
.input:focus{outline:none;border-color:var(--color-accent)}
.checkbox{display:inline-block;margin-right:var(--space-xs)}
.checkbox-label{display:inline-flex;align-items:center;gap:var(--space-xs);cursor:pointer}

/* Stats */
.stat-card{background:var(--color-bg-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-lg);text-align:center}
.stat-number{font-size:var(--text-2xl);font-weight:var(--weight-bold);color:var(--color-accent-text)}

/* Tabs */
.tab{padding:var(--space-sm) var(--space-md);border-bottom:2px solid transparent;color:var(--color-text-secondary);cursor:pointer;transition:all var(--transition-fast)}
.tab:hover{color:var(--color-text-primary)}
.tab.active{border-bottom-color:var(--color-accent);color:var(--color-accent-text)}
.event-tab{display:inline-block;padding:var(--space-xs) var(--space-sm);background:var(--color-bg-sunken);border-radius:var(--radius-sm);font-size:var(--text-sm);margin-right:var(--space-xs)}

/* Points */
.points-label{font-size:var(--text-xs);color:var(--color-text-muted);text-transform:uppercase}
.points-breakdown{background:var(--color-bg-sunken);padding:var(--space-md);border-radius:var(--radius-md);margin-top:var(--space-sm)}

/* Section */
.section-divider{border-top:1px solid var(--color-border);margin:var(--space-lg) 0;padding-top:var(--space-lg)}

/* Utility Classes */
.w-full{width:100%}
.btn--sm{padding:var(--space-xs) var(--space-sm);font-size:var(--text-sm)}

/* Sidebar Label - Small text under icon */
.sidebar-label{font-size:10px;line-height:1.2;text-align:center;font-weight:var(--weight-medium)}

/* Responsive Sidebar */
@media(max-width:1023px){.sidebar{position:fixed;left:0;top:0;transform:translateX(-100%);transition:transform var(--transition-base);z-index:1100}.sidebar.open{transform:translateX(0)}}
